<!DOCTYPE html>
<html lang="en" ng-app="Queuer">

<head>
    <link rel="stylesheet" href="css/style.css">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800,700italic,700,600italic,600,400italic,300italic,300,800italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-resource.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/models/customerAdmin.js"></script>
    <script src="js/controller/customerAdminController.js"></script>
    <script src="js/services/authInterceptor.js"></script>
    <script src="js/services/tokenService.js"></script>
    <title>Waiting List</title>
</head>

<body ng-app="Queuer" ng-controller="CustomerAdminController as admin">
    <header>
        <button class="btn-register" id="logout">Logout</button>
        <a href="home.html"><img src="images/querer_logo.png" width="240" height="154" alt="" /></a>
        <div class="loginForm">
            <form class="column" ng-submit = "admin.authorize()">
                <input type="email" name="user_email" required ng-model="admin.admin.restaurantEmail">
                <input type="password" name="user_pwd" required ng-model="admin.admin.password">
                <button id="btn-signin" class="btn-login">Log In</button>
            </form>
        </div>
    </header>

    <div id="wrapper">

        <div class="customerPage-container">

            <div class="top flex">
                <form class="customerForm flex" method="get">
                    <input id="customer_heads" type="text" name="customer_heads" value="" placeholder="Heads">
                    <input id="customer_name" type="text" name="customer_name" value="" placeholder="Name">
                    <input id="customer_mobile" type="text" name="customer_mobile" value="" placeholder="Mobile">
                    <input id="customer_eta" type="text" name="customer_eta" value="" placeholder="ETA">
                    <button id="newCustomer" class="btn-submit">Add Customer</button>
                </form>
            </div>

            <div class="customer-list" ng-controller="CustomerAdminController as customer">
              <ul ng-repeat="customer in customer.all">
                <li >{{ customer.customerName }}</li>
              </ul>
            </div>

            <div class="bottom">
                <!-- customer -->

                <table class="customerTable" id="customerTable">
                    <thead>
                        <tr>
                            <td><i class="fa fa-user fa-2x" aria-hidden="true"></i></td>
                            <td>NAME</td>
                            <td>MOBILE</td>
                            <td><i class="fa fa-clock-o fa-2x" aria-hidden="true"></i></td>
                            <td>
                                <div class="change-eta">
                                    <form class="flex delayForm" action="">
                                        <input type="text" name="restarant_name" placeholder="Global">
                                        <button class="btn-doit">Add</button>
                                    </form>
                                </div>
                            </td>
                        </tr>
                    </thead>
                    <tbody id="customerListAdmin" ng-controller="CustomerAdminController as customers">
                      <tr ng-repeat="customer in customers.all">
                        <td>{{customer.customerName}}</td>
                        <td>{{customer.phone}}</td>
                        <td>{{customer.heads}}</td>
                        <td>{{ ((customer.finishedWaiting - customers.timeNow)/60000).toFixed(2) }}  </td>




                      </tr>
                        <!-- dynamic content -->
                    </tbody>

                </table>
                <!-- end customer -->
            </div>
        </div>
    </div>
    <!-- end wrapper -->
    <footer>
    <img src="images/foot_line.png" width="226" height="30" alt=""/>
  </footer>


</body>

</html>
